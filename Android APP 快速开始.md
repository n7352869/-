# ğŸ“± Android APP å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²

### ç¬¬ä¸€æ­¥ï¼šé…ç½®æœåŠ¡å™¨åœ°å€

1. æ‰“å¼€æ–‡ä»¶ï¼š`android/app/src/main/java/com/woyouyigexiangfa/app/ServerConfig.java`

2. ä¿®æ”¹æœåŠ¡å™¨åœ°å€ï¼š
   ```java
   public static final String SERVER_URL = "http://ä½ çš„ç”µè„‘IP:3000";
   ```

3. è·å–ç”µè„‘IPåœ°å€ï¼š
   - **Windows**: æ‰“å¼€cmdï¼Œè¾“å…¥ `ipconfig`ï¼ŒæŸ¥æ‰¾"IPv4 åœ°å€"
   - **Mac**: æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ `ifconfig | grep "inet "`
   - **Linux**: æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ `ip addr` æˆ– `hostname -I`

4. ç¤ºä¾‹ï¼š
   ```java
   // å¦‚æœç”µè„‘IPæ˜¯ 192.168.1.105
   public static final String SERVER_URL = "http://192.168.1.105:3000";
   
   // å¦‚æœä½¿ç”¨Androidæ¨¡æ‹Ÿå™¨
   public static final String SERVER_URL = "http://10.0.2.2:3000";
   ```

### ç¬¬äºŒæ­¥ï¼šå¯åŠ¨åç«¯æœåŠ¡å™¨

åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆ"æˆ‘æœ‰ä¸€ä¸ªæƒ³æ³•"æ–‡ä»¶å¤¹ï¼‰ï¼š

**Windows:**
```
åŒå‡»è¿è¡Œ"ä¸€é”®éƒ¨ç½².bat"
```

**Mac/Linux:**
```bash
npm install && npm start
```

ç¡®ä¿çœ‹åˆ°ï¼š`æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3000`

### ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•ç½‘ç»œè¿æ¥

åœ¨æ‰‹æœºæµè§ˆå™¨ä¸­è®¿é—®ï¼š`http://ä½ çš„ç”µè„‘IP:3000`

å¦‚æœèƒ½æ­£å¸¸æ‰“å¼€ç½‘ç«™ï¼Œè¯´æ˜ç½‘ç»œé…ç½®æ­£ç¡® âœ…

### ç¬¬å››æ­¥ï¼šä½¿ç”¨ Android Studio æ‰“å¼€é¡¹ç›®

1. æ‰“å¼€ **Android Studio**
2. é€‰æ‹© **File â†’ Open**
3. é€‰æ‹© `android` æ–‡ä»¶å¤¹
4. ç­‰å¾… Gradle åŒæ­¥å®Œæˆï¼ˆé¦–æ¬¡å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿï¼‰

### ç¬¬äº”æ­¥ï¼šè¿è¡Œåº”ç”¨

1. **è¿æ¥è®¾å¤‡**ï¼š
   - ç”¨USBè¿æ¥Androidæ‰‹æœºï¼Œå¹¶å¯ç”¨"USBè°ƒè¯•"
   - æˆ–å¯åŠ¨Androidæ¨¡æ‹Ÿå™¨

2. **è¿è¡Œåº”ç”¨**ï¼š
   - ç‚¹å‡»å·¥å…·æ çš„ç»¿è‰²è¿è¡ŒæŒ‰é’® â–¶ï¸
   - æˆ–æŒ‰å¿«æ·é”® `Shift + F10`

3. **ç­‰å¾…å®‰è£…å®Œæˆ**ï¼Œåº”ç”¨ä¼šè‡ªåŠ¨å¯åŠ¨

## ğŸ“‹ å®Œæ•´é¡¹ç›®ç»“æ„

```
android/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ src/main/
â”‚   â”‚   â”œâ”€â”€ java/com/woyouyigexiangfa/app/
â”‚   â”‚   â”‚   â”œâ”€â”€ MainActivity.java      â† ä¸»ç•Œé¢
â”‚   â”‚   â”‚   â””â”€â”€ ServerConfig.java     â† æœåŠ¡å™¨é…ç½®ï¼ˆé‡è¦ï¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ res/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ activity_main.xml  â† ç•Œé¢å¸ƒå±€
â”‚   â”‚   â”‚   â””â”€â”€ values/
â”‚   â”‚   â”‚       â”œâ”€â”€ strings.xml        â† åº”ç”¨åç§°
â”‚   â”‚   â”‚       â””â”€â”€ styles.xml         â† ä¸»é¢˜æ ·å¼
â”‚   â”‚   â””â”€â”€ AndroidManifest.xml        â† åº”ç”¨é…ç½®
â”‚   â””â”€â”€ build.gradle                   â† ä¾èµ–é…ç½®
â”œâ”€â”€ build.gradle
â”œâ”€â”€ settings.gradle
â””â”€â”€ README_ANDROID.md                  â† è¯¦ç»†æ–‡æ¡£
```

## âš™ï¸ å¸¸è§é…ç½®åœºæ™¯

### åœºæ™¯1ï¼šæ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€WiFi

```java
// ServerConfig.java
public static final String SERVER_URL = "http://192.168.1.105:3000";
```

**è¦æ±‚ï¼š**
- æ‰‹æœºå’Œç”µè„‘è¿æ¥åŒä¸€WiFi
- ç”µè„‘é˜²ç«å¢™å…è®¸ç«¯å£3000
- æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ

### åœºæ™¯2ï¼šä½¿ç”¨Androidæ¨¡æ‹Ÿå™¨

```java
// ServerConfig.java
public static final String SERVER_URL = "http://10.0.2.2:3000";
```

**è¯´æ˜ï¼š**
- `10.0.2.2` æ˜¯Androidæ¨¡æ‹Ÿå™¨è®¿é—®ç”µè„‘localhostçš„ç‰¹æ®Šåœ°å€
- ä¸éœ€è¦ä¿®æ”¹é˜²ç«å¢™è®¾ç½®

### åœºæ™¯3ï¼šä½¿ç”¨å·²éƒ¨ç½²çš„æœåŠ¡å™¨

```java
// ServerConfig.java
public static final String SERVER_URL = "https://your-server.com";
```

**è¯´æ˜ï¼š**
- å°†ç½‘ç«™éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨å
- ä½¿ç”¨HTTPSåè®®æ›´å®‰å…¨

## ğŸ”§ ç”ŸæˆAPKæ–‡ä»¶

### æ–¹æ³•ä¸€ï¼šAndroid Studioï¼ˆæ¨èï¼‰

1. **Build â†’ Generate Signed Bundle / APK**
2. é€‰æ‹© **APK**
3. åˆ›å»ºæ–°çš„å¯†é’¥åº“ï¼ˆé¦–æ¬¡ï¼‰æˆ–é€‰æ‹©å·²æœ‰å¯†é’¥åº“
4. é€‰æ‹© **release** æ„å»ºç±»å‹
5. å®Œæˆæ„å»º

**APKä½ç½®ï¼š** `android/app/build/outputs/apk/release/app-release.apk`

### æ–¹æ³•äºŒï¼šå‘½ä»¤è¡Œ

```bash
cd android
./gradlew assembleRelease
```

**Windows:**
```bash
cd android
gradlew.bat assembleRelease
```

## â“ å¸¸è§é—®é¢˜

### Q1: åº”ç”¨æ˜¾ç¤º"æ— æ³•åŠ è½½é¡µé¢"

**æ£€æŸ¥æ¸…å•ï¼š**
- âœ… æœåŠ¡å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œï¼Ÿ
- âœ… ServerConfig.java ä¸­çš„IPåœ°å€æ˜¯å¦æ­£ç¡®ï¼Ÿ
- âœ… æ‰‹æœºå’Œç”µè„‘æ˜¯å¦åœ¨åŒä¸€WiFiï¼Ÿ
- âœ… ç”µè„‘é˜²ç«å¢™æ˜¯å¦å…è®¸ç«¯å£3000ï¼Ÿ
- âœ… æ‰‹æœºæµè§ˆå™¨èƒ½å¦è®¿é—®æœåŠ¡å™¨åœ°å€ï¼Ÿ

**è§£å†³æ–¹æ³•ï¼š**
1. åœ¨æ‰‹æœºæµè§ˆå™¨æµ‹è¯•ï¼š`http://ä½ çš„IP:3000`
2. å¦‚æœæµè§ˆå™¨èƒ½è®¿é—®ï¼Œæ£€æŸ¥APPä¸­çš„IPé…ç½®
3. å¦‚æœæµè§ˆå™¨ä¸èƒ½è®¿é—®ï¼Œæ£€æŸ¥ç½‘ç»œå’Œé˜²ç«å¢™

### Q2: GradleåŒæ­¥å¤±è´¥

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ˆéœ€è¦ä¸‹è½½ä¾èµ–ï¼‰
2. ä½¿ç”¨å›½å†…é•œåƒï¼ˆåœ¨ `build.gradle` ä¸­æ·»åŠ ï¼‰ï¼š
   ```gradle
   repositories {
       maven { url 'https://maven.aliyun.com/repository/google' }
       maven { url 'https://maven.aliyun.com/repository/central' }
       google()
       mavenCentral()
   }
   ```
3. æ›´æ–°Android Studioåˆ°æœ€æ–°ç‰ˆæœ¬

### Q3: åº”ç”¨å´©æºƒ

**è§£å†³æ–¹æ³•ï¼š**
1. æŸ¥çœ‹ **Logcat** è·å–é”™è¯¯ä¿¡æ¯
2. æ£€æŸ¥ `AndroidManifest.xml` é…ç½®
3. ç¡®è®¤æœ€ä½SDKç‰ˆæœ¬ï¼ˆéœ€è¦Android 5.0+ï¼‰

### Q4: ç½‘ç»œè¯·æ±‚è¢«é˜»æ­¢

**è§£å†³æ–¹æ³•ï¼š**
- ç¡®è®¤ `AndroidManifest.xml` ä¸­æœ‰ç½‘ç»œæƒé™
- æ£€æŸ¥ `usesCleartextTraffic` è®¾ç½®ï¼ˆHTTPéœ€è¦è®¾ä¸ºtrueï¼‰

## ğŸ“š æ›´å¤šèµ„æº

- **è¯¦ç»†æ–‡æ¡£**: æŸ¥çœ‹ `android/README_ANDROID.md`
- **é…ç½®è¯´æ˜**: æŸ¥çœ‹ `android/é…ç½®è¯´æ˜.txt`
- **Androidå®˜æ–¹æ–‡æ¡£**: https://developer.android.com/

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ å·²ç»å¯ä»¥ï¼š
- âœ… åœ¨æ‰‹æœºä¸Šä½¿ç”¨åŸç”ŸAPP
- âœ… å‘å¸ƒæƒ³æ³•ã€ç‚¹èµã€è¯„è®º
- âœ… æŸ¥çœ‹æ¯æ—¥çƒ­é—¨æ’è¡Œ
- âœ… ç”ŸæˆAPKæ–‡ä»¶è¿›è¡Œåˆ†å‘

ç¥ä½¿ç”¨æ„‰å¿«ï¼ğŸ’¡


